<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Portal</title>
    <!-- CSS only -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <title>Document</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-primary fixed-top">
      <div class="container-fluid">
        <button
          class="navbar-toggler"
          type="button"
          data-mdb-toggle="collapse"
          data-mdb-target="#navbarExample01"
          aria-controls="navbarExample01"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarExample01">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item active">
              <a class="nav-link" aria-current="page" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/page/register">Add new Student</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./search.ejs">Search for a Student </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/page/update">Update Student details</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <br /><br /><br />
    <h3 style="text-align: center">Student Details</h3>
    <form action="/student/fetch" method="POST">
      <input
        type="text"
        placeholder="Search by rollno"
        id="rollno"
        name="rollno"
      />
      <br /><br />
      <button type="submit">Fetch</button>
    </form>
    <br /><br />
    <br /><br />
    <% if(view){ %>
    <table border="1" id="table">
      <tr>
        <th>Sl.No</th>
        <th>Name</th>
        <th>Roll No</th>
        <th>Course</th>
        <th>Branch</th>
      </tr>
      <% if(stuData.length!=0){ var i=1; stuData.forEach(function(data){ %>
      <tr>
        <td><%=i; %></td>
        <td><%=data.name %></td>
        <td><%=data.id %></td>
        <td><%=data.course %></td>
        <td><%=data.branch %></td>
      </tr>
      <% i++; }) %> <% } else{ %>
      <tr>
        <td colspan="4">No Data Found</td>
      </tr>
      <% } %>
    </table>
    <% } %>

    <!-- JavaScript Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
